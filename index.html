<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undersøkelse om atopisk eksem</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .survey-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .survey-header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .survey-header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .survey-header p {
            opacity: 0.9;
            font-size: 16px;
        }
        
        .section-nav {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 1px solid #e1e5e9;
        }
        
        .section-tabs {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 5px;
        }
        
        .section-tab {
            padding: 8px 16px;
            background: #e1e5e9;
            border-radius: 20px;
            font-size: 14px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .section-tab.active {
            background: #4CAF50;
            color: white;
        }
        
        .section-tab.completed {
            background: #2196F3;
            color: white;
        }

		.section-tab.disabled {
			background: #e1e5e9 !important;
			color: #bbb !important;
			pointer-events: none;
			cursor: not-allowed;
			opacity: 0.5;
		}
		
        .survey-form {
            padding: 40px;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .question-group {
            margin-bottom: 32px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }
        
        .question-group.hidden {
            display: none;
        }
        
        .question-label {
            display: block;
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .required {
            color: #e74c3c;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #fafbfc;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #4CAF50;
            background: white;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        
        .age-input-group, .slider-input-group {
            display: flex;
            gap: 16px;
            align-items: center;
        }
        
        .age-slider, .slider-input {
            flex: 1;
            height: 8px;
            border-radius: 4px;
            background: #e1e5e9;
            outline: none;
            -webkit-appearance: none;
        }
        
        .age-slider::-webkit-slider-thumb, .slider-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }
        
        .age-number, .slider-number {
            width: 100px;
            text-align: center;
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: #f8f9fa;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .radio-option:hover, .checkbox-option:hover {
            background: #e8f5e8;
            border-color: #4CAF50;
        }
        
        .radio-option.selected, .checkbox-option.selected {
            background: #e8f5e8;
            border-color: #4CAF50;
        }
        
        .radio-option input, .checkbox-option input {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .radio-option label, .checkbox-option label {
            flex: 1;
            cursor: pointer;
            font-size: 16px;
            color: #333;
        }

		.radio-option input[type="radio"],
		.checkbox-option input[type="checkbox"] {
			/* Hide the actual control */
			opacity: 0;
			width: 0;
			height: 0;
			margin: 0;
			position: absolute;
			left: -9999px;
			pointer-events: none;
		}

        .select-wrapper {
            position: relative;
        }
        
        .form-select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            background: #fafbfc;
            cursor: pointer;
            transition: all 0.3s ease;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 40px;
        }
        
        .form-select:focus {
            outline: none;
            border-color: #4CAF50;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        
        .scale-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .scale-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
            min-width: 35px;
            flex: 1;
        }
        
        .scale-option:hover {
            background: #e8f5e8;
        }
        
        .scale-option.selected {
            background: #4CAF50;
            color: white;
        }
        
        .scale-option input {
            margin-bottom: 4px;
        }
        
        .scale-option label {
            font-size: 12px;
            text-align: center;
            cursor: pointer;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 16px;
        }
        
        .nav-btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .prev-btn {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #e1e5e9;
        }
        
        .prev-btn:hover {
            background: #e9ecef;
        }
        
        .next-btn, .submit-btn {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            flex: 1;
        }
        
        .next-btn:hover, .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
        }
        
        .next-btn:disabled, .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .error-message {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .stop-message {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 24px;
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(4px);
        }
        
        .modal-content {
            background-color: white;
            margin: 50% auto;
            padding: 30px;
            border-radius: 16px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            position: relative;
            top: -25%;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        
        .modal h2 {
            color: #4CAF50;
            margin-bottom: 16px;
            font-size: 24px;
        }
        
        .time-display {
            font-size: 36px;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }
        
        .modal-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 16px;
        }
        
        @media (max-width: 768px) {
            .survey-form {
                padding: 24px;
            }
            
            .survey-header {
                padding: 24px;
            }
            
            .section-nav {
                padding: 16px 24px;
            }
            
            .section-tabs {
                gap: 4px;
            }
            
            .section-tab {
                padding: 6px 12px;
                font-size: 12px;
            }
            
            .age-input-group, .slider-input-group {
                flex-direction: column;
                gap: 12px;
            }
            
            .age-number, .slider-number {
                width: 100%;
            }
            
            .scale-group {
                gap: 4px;
            }
            
            .scale-option {
                min-width: 30px;
                padding: 6px;
            }
            
            .nav-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="survey-container">
        <div class="survey-header">
            <h1>Undersøkelse om atopisk eksem</h1>
            <p>Vennligst svar ærlig på alle spørsmål. Dine svar er konfidensielle.</p>
        </div>
        
        <div class="section-nav">
            <div class="section-tabs">
                <div class="section-tab active" data-section="background">Bakgrunn</div>
                <div class="section-tab" data-section="employment">Arbeidssituasjon</div>
                <div class="section-tab" data-section="treatment">Behandling</div>
                <div class="section-tab" data-section="past-treatment">Tidligere behandling</div>
                <div class="section-tab" data-section="comorbidities">Følgesykdommer</div>
                <div class="section-tab" data-section="disease-severity">Sykdomsgrad</div>
                <div class="section-tab" data-section="dlqi">DLQI</div>
                <div class="section-tab" data-section="who5">WHO-5</div>
                <div class="section-tab" data-section="poem">POEM</div>
                <div class="section-tab" data-section="hads">HADS</div>
                <div class="section-tab" data-section="wpai" id="wpaiTab">WPAI</div>

            </div>
        </div>
        
        <form class="survey-form" id="surveyForm" novalidate>
            <!-- Background Section -->
            <div class="section active" id="background">
                <h2 class="section-title">Bakgrunnsinformasjon</h2>
                
                <div class="question-group">
                    <label class="question-label">
                        Har du noen gang blitt diagnostisert med atopisk eksem av en lege? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="ad_diagnosis" value="yes" id="ad_yes" required>
                            <label for="ad_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="ad_diagnosis" value="no" id="ad_no" required>
                            <label for="ad_no">Nei</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Når opplevde du først symptomer på atopisk eksem? <span class="required">*</span>
                    </label>
                    <div class="select-wrapper">
                        <select name="ad_onset" class="form-select" required>
                            <option value="">Velg aldersgruppe</option>
                            <option value="primary_school">Før eller i løpet av barneskolen (≤12 år)</option>
                            <option value="lower_secondary">I løpet av ungdomsskolen (13–15 år)</option>
                            <option value="upper_secondary">I løpet av videregående skole (16–19 år)</option>
                            <option value="20_29">20–29 år</option>
                            <option value="30_39">30–39 år</option>
                            <option value="40_49">40–49 år</option>
                            <option value="50_59">50–59 år</option>
                            <option value="60_69">60–69 år</option>
                            <option value="70_79">70–79 år</option>
                            <option value="80_85">80–85 år</option>
                            <option value="over_85">>85 år</option>
                        </select>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Alder (Hvor gammel er du nå?) <span class="required">*</span>
                    </label>
                    <div class="age-input-group">
                        <input type="range" name="age_slider" class="age-slider" min="18" max="120" value="30" id="ageSlider">
                        <input type="number" name="age" class="form-input age-number" min="18" max="120" value="30" id="ageNumber" required>
                    </div>
                    <div id="ageError" class="error-message" style="display: none;">
                        Deltakelse er for voksne under 120 år (18-119 år).
                    </div>
                </div>
                
				<div class="question-group">
					<label class="question-label">
						Postnummer <span class="required">*</span>
					</label>
					<input 
						type="number" 
						name="postal_code" 
						id="postalCodeInput"
						class="form-input" 
						min="1" 
						max="9999" 
						required 
						placeholder="Skriv inn ditt postnummer">
					<div id="postalCodeError" class="error-message" style="display:none;">
						Postnummer må være mellom 0001 og 9999.
					</div>
				</div>

                
                <div class="question-group">
                    <label class="question-label">
                        Kjønn <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="gender" value="male" id="gender_male" required>
                            <label for="gender_male">Mann</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="gender" value="female" id="gender_female" required>
                            <label for="gender_female">Kvinne</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group hidden" id="pregnancyQuestion">
                    <label class="question-label">
                        Er du for tiden gravid eller ammer du? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="pregnant_lactating" value="yes" id="preg_yes"> 
                            <label for="preg_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="pregnant_lactating" value="no" id="preg_no"> 
                            <label for="preg_no">Nei</label>
                        </div>
                    </div>
                </div>
                
                <div id="pregnancyStop" class="stop-message" style="display: none;">
                    <h3>Takk for din interesse</h3>
                    <p>Denne undersøkelsen inkluderer ikke gravide eller ammende kvinner. Takk for din tid.</p>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Røyker du? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="smoking" value="yes" id="smoke_yes" required>
                            <label for="smoke_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="smoking" value="no" id="smoke_no" required>
                            <label for="smoke_no">Nei</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Vekt i kg (dra den grønne knappen eller skriv inn et nummer i feltet)<span class="required">*</span>
                    </label>
                    <div class="slider-input-group">
                        <input type="range" name="weight_slider" class="slider-input" min="30" max="200" value="70" id="weightSlider">
                        <input type="number" name="weight" class="form-input slider-number" min="30" max="200" step="0.1" value="70" id="weightNumber" required>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Høyde i cm (dra den grønne knappen eller skriv inn et nummer i feltet) <span class="required">*</span>
                    </label>
                    <div class="slider-input-group">
                        <input type="range" name="height_slider" class="slider-input" min="100" max="220" value="170" id="heightSlider">
                        <input type="number" name="height" class="form-input slider-number" min="100" max="220" step="0.1" value="170" id="heightNumber" required>
                    </div>
                </div>
            </div>
            
            <!-- Employment Section -->
            <div class="section" id="employment">
                <h2 class="section-title">Informasjon om arbeidssituasjon</h2>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvilket av følgende beskriver best din nåværende arbeidssituasjon? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="work_situation" value="full_time" id="work_full" required>
                            <label for="work_full">Jobber heltid (100%)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="work_situation" value="part_time" id="work_part" required>
                            <label for="work_part">Jobber deltid (<100%)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="work_situation" value="full_disability" id="work_disability_full" required>
                            <label for="work_disability_full">Full uføretrygd (100%)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="work_situation" value="partial_disability" id="work_disability_partial" required>
                            <label for="work_disability_partial">Delvis uføretrygd (50–95%)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="work_situation" value="not_working" id="work_not" required>
                            <label for="work_not">Ikke i arbeid – annen årsak</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group hidden" id="partTimeQuestion">
                    <label class="question-label">
                        Hvis du jobber deltid, hvor mange prosent av en fulltidsstilling jobber du vanligvis? <span class="required">*</span>
                    </label>
                    <div class="slider-input-group">
                        <input type="range" name="part_time_slider" class="slider-input" min="1" max="99" value="50" id="partTimeSlider">
                        <input type="number" name="part_time_percentage" class="form-input slider-number" min="1" max="99" value="50" id="partTimeNumber"> 
                    </div>
                </div>
                
				<div class="question-group hidden" id="disabilityPercentageQuestion">
					<label class="question-label">
						Hvis du er delvis uføretrygdet, hvilken uføregrad er innvilget? <span class="required">*</span>
					</label>
					<div class="slider-input-group">
						<input type="range" name="disability_percentage_slider" class="slider-input" min="50" max="99" value="50" id="disabilityPercentageSlider" required>
						<input type="number" name="disability_percentage" class="form-input slider-number" min="50" max="99" value="50" id="disabilityPercentageNumber" required>
					</div>
					<div id="disabilityPercentageError" class="error-message" style="display: none;">
						Uføregrad må være mellom 50 og 99%.
					</div>
				</div>

                
                <div class="question-group hidden" id="disabilityReasonQuestion">
                    <label class="question-label">
                        Hvis du mottar uføretrygd (hel eller delvis), hva er hovedårsaken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="disability_reason" value="atopic_dermatitis" id="disability_ad"> 
                            <label for="disability_ad">Atopisk dermatitt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="disability_reason" value="other" id="disability_other"> 
                            <label for="disability_other">Annen årsak</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group hidden" id="notWorkingReasonQuestion">
                    <label class="question-label">
                        Hvis du ikke er i arbeid av en annen grunn, vennligst angi hva som passer best: <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="pensioner" id="not_work_pensioner"> 
                            <label for="not_work_pensioner">Pensjonist</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="student" id="not_work_student">
                            <label for="not_work_student">Student / skoleelev</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="military" id="not_work_military">
                            <label for="not_work_military">Militærtjeneste</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="assessment" id="not_work_assessment">
                            <label for="not_work_assessment">Arbeidsavklaringspenger (AAP)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="job_seeker" id="not_work_seeker">
                            <label for="not_work_seeker">Arbeidssøker</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="parental" id="not_work_parental">
                            <label for="not_work_parental">Foreldrepermisjon</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="home_duties" id="not_work_home">
                            <label for="not_work_home">Hjemmearbeidende</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="not_working_reason" value="other" id="not_work_other">
                            <label for="not_work_other">Annet</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Husholdningsinntekt <span class="required">*</span>
                    </label>
                    <div class="select-wrapper">
                        <select name="household_income" class="form-select" required>
                            <option value="">Velg inntektsnivå</option>
                            <option value="under_400k">< 400 000 NOK</option>
                            <option value="400_599k">400 000 – 599 999 NOK</option>
                            <option value="600_799k">600 000 – 799 999 NOK</option>
							<option value="800_1099k">800 000 – 1 099 999 NOK</option>
                            <option value="1100_1499k">1 100 000 – 1 499 999 NOK</option>
                            <option value="1500k_plus">≥ 1 500 000 NOK</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Treatment Section -->
            <div class="section" id="treatment">
                <h2 class="section-title">Informasjon om nåværende behandling</h2>
                
                <div class="question-group">
                    <label class="question-label">
                        Har du vært hos eller blitt henvist til en hudlege for din atopiske dermatitt? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dermatologist" value="yes" id="derm_yes" required>
                            <label for="derm_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dermatologist" value="no" id="derm_no" required>
                            <label for="derm_no">Nei</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Har du noen gang mottatt behandling for atopisk eksem? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="ever_treated" value="yes" id="treated_yes" required>
                            <label for="treated_yes">Ja, fra hudlege.</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="ever_treated" value="yes" id="treated_yes" required>
                            <label for="treated_yes">Ja, fra annen type lege (for eks. fastlege).</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="ever_treated" value="no" id="treated_no" required>
                            <label for="treated_no">Nei, eller behandling fra egen hånd.</label>
                        </div>
                    </div>
                </div>
                
                <div id="treatmentQuestions" style="display: none;">
                    <div class="question-group">
                        <label class="question-label">
                            Når fikk du din første behandling for atopisk eksem? <span class="required">*</span>
                        </label>
                        <div class="select-wrapper">
                            <select name="first_treatment" class="form-select"> 
                                <option value="">Velg aldersgruppe (trykk her for å velge)</option>
                                <option value="primary_school">Før eller i løpet av barneskolen (≤12 år)</option>
                                <option value="lower_secondary">I løpet av ungdomsskolen (13–15 år)</option>
                                <option value="upper_secondary">I løpet av videregående skole (16–19 år)</option>
                                <option value="20_29">20–29 år</option>
                                <option value="30_39">30–39 år</option>
                                <option value="40_49">40–49 år</option>
                                <option value="50_59">50–59 år</option>
                                <option value="60_69">60–69 år</option>
                                <option value="70_79">70–79 år</option>
                                <option value="80_85">80–85 år</option>
                                <option value="over_85">>85 år</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="question-group">
                        <label class="question-label">
                            Tar du for tiden oral medisin (tabletter) for atopisk eksem? <span class="required">*</span>
                        </label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="current_oral" value="yes" id="oral_current_yes"> 
                                <label for="oral_current_yes">Ja</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="current_oral" value="no" id="oral_current_no"> 
                                <label for="oral_current_no">Nei</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-group hidden" id="currentOralMedsQuestion">
                        <label class="question-label">
                            Hvilken/hvilke orale medisiner tar du for tiden? (Velg alle som passer)
                        </label>
                        <div class="checkbox-group">
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="methotrexate" id="oral_methotrexate">
                                <label for="oral_methotrexate">Metotreksat</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="cyclosporine" id="oral_cyclosporine">
                                <label for="oral_cyclosporine">Ciklosporin (Sandimmun)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="azathioprine" id="oral_azathioprine">
                                <label for="oral_azathioprine">Azatioprin (Imurel)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="baricitinib" id="oral_baricitinib">
                                <label for="oral_baricitinib">Baricitinib (Olumiant)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="abrocitinib" id="oral_abrocitinib">
                                <label for="oral_abrocitinib">Abrocitinib (Cibinqo)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="upadacitinib" id="oral_upadacitinib">
                                <label for="oral_upadacitinib">Upadacitinib (Rinvoq)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="prednisolone" id="oral_prednisolone">
                                <label for="oral_prednisolone">Prednisolon</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_oral_meds" value="other_oral" id="oral_other">
                                <label for="oral_other">Annen oral medisin (tabletter), eller husker ikke</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-group">
                        <label class="question-label">
                            Mottar du for tiden sprøytebehandling for atopisk eksem? <span class="required">*</span>
                        </label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="current_injectable" value="yes" id="injectable_current_yes"> 
                                <label for="injectable_current_yes">Ja</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="current_injectable" value="no" id="injectable_current_no"> 
                                <label for="injectable_current_no">Nei</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-group hidden" id="currentInjectableMedsQuestion">
                        <label class="question-label">
                            Hvilken/hvilke sprøytebehandlinger mottar du for tiden? (Velg alle som passer)
                        </label>
                        <div class="checkbox-group">
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_injectable_meds" value="methotrexate_injection" id="inject_methotrexate">
                                <label for="inject_methotrexate">Metotreksat sprøyte (Metex / Methofill / Nordimet)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_injectable_meds" value="lebrikizumab" id="inject_lebrikizumab">
                                <label for="inject_lebrikizumab">Lebrikizumab (Ebglyss)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_injectable_meds" value="dupilumab" id="inject_dupilumab">
                                <label for="inject_dupilumab">Dupilumab (Dupixent)</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_injectable_meds" value="other_injectable" id="inject_other">
                                <label for="inject_other">Annen sprøytebehandling, eller husker ikke</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-group">
                        <label class="question-label">
                            Bruker du for tiden lokalbehandling (kremer, salver, lotioner) for atopisk eksem? <span class="required">*</span>
                        </label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="current_topical" value="yes" id="topical_current_yes"> 
                                <label for="topical_current_yes">Ja</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="current_topical" value="no" id="topical_current_no"> 
                                <label for="topical_current_no">Nei</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-group hidden" id="currentTopicalMedsQuestion">
                        <label class="question-label">
                            Hvilken lokalbehandling bruker du for tiden? (Velg alle som passer)
                        </label>
                        <div class="checkbox-group">
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_topical_meds" value="corticosteroid" id="topical_corticosteroid">
                                <label for="topical_corticosteroid">Reseptbelagt krem</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_topical_meds" value="generic_cream" id="generic_cream">
                                <label for="generic_cream">Ikke reseptbelagt krem</label>
                            </div>
                            <div class="checkbox-option">
                                <input type="checkbox" name="current_topical_meds" value="other_topical" id="topical_other">
                                <label for="topical_other">Annen lokalbehandling, eller husker ikke</label>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">
                            Mottar du for tiden lysbehandling for atopisk eksem? <span class="required">*</span>
                        </label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="current_phototherapy" value="yes" id="photo_current_yes"> 
                                <label for="photo_current_yes">Ja</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="current_phototherapy" value="no" id="photo_current_no"> 
                                <label for="photo_current_no">Nei</label>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">
                            Bruker du noen annen form for behandling (f.eks. tillegsbehandling eller alternativmedisin)? <span class="required">*</span>
                        </label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="current_alternative" value="yes" id="alt_current_yes"> 
                                <label for="alt_current_yes">Ja</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="current_alternative" value="no" id="alt_current_no"> 
                                <label for="alt_current_no">Nei</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-group" id="currentNoTreatmentAnyQuestionGroup">
                        <label class="question-label">
                            Mottar du for tiden ingen behandling for atopisk eksem? <span class="required">*</span>
                        </label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="current_no_treatment_any" value="yes" id="no_treatment_current_yes"> 
                                <label for="no_treatment_current_yes">Ja</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="current_no_treatment_any" value="no" id="no_treatment_current_no"> 
                                <label for="no_treatment_current_no">Nei</label>
                            </div>
                        </div>
                    </div>

					<div class="question-group">
						<label class="question-label">
							Er du fornøyd med nåværende behandling? (0–10 skala, hvor 0 = ikke fornøyd i det hele tatt, 10 = helt fornøyd) <span class="required">*</span>
						</label>
						<div class="slider-input-group">
							<input type="range" name="satisfaction_slider" class="slider-input" min="0" max="10" value="0" id="satisfactionSlider" required>
							<input type="number" name="satisfaction" class="form-input slider-number" min="0" max="10" value="0" id="satisfactionNumber" required>
						</div>
						<div style="margin-top: 8px; color: #888; font-size:0.95em; text-align:center;">
							0: Ikke fornøyd i det hele tatt<br>
							10: Helt fornøyd
						</div>
					</div>

                </div>
            </div>

            <!-- Past Treatment Section -->
            <div class="section" id="past-treatment">
                <h2 class="section-title">Informasjon om tidligere behandling</h2>
                <p style="margin-bottom: 30px; text-align: center; color: #666;">Fortell oss om atopisk eksem-behandlinger du har brukt tidligere, men som du ikke lenger bruker.</p>

                <div class="question-group">
                    <label class="question-label">
                        Har du tidligere tatt orale medisiner for atopisk eksem som du ikke lenger tar? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="past_oral_received" value="yes" id="past_oral_yes" required>
                            <label for="past_oral_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="past_oral_received" value="no" id="past_oral_no" required>
                            <label for="past_oral_no">Nei</label>
                        </div>
                    </div>
                </div>
                <div class="question-group hidden" id="pastOralMedsQuestion">
                    <label class="question-label">
                        Hvilken/hvilke tidligere orale medisiner for atopisk eksem har du tatt? (Velg alle som passer)
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="methotrexate" id="past_oral_methotrexate">
                            <label for="past_oral_methotrexate">Metotreksat</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="cyclosporine" id="past_oral_cyclosporine">
                            <label for="past_oral_cyclosporine">Ciklosporin (Sandimmun)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="azathioprine" id="past_oral_azathioprine">
                            <label for="past_oral_azathioprine">Azatioprin (Imurel)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="baricitinib" id="past_oral_baricitinib">
                            <label for="past_oral_baricitinib">Baricitinib (Olumiant)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="abrocitinib" id="past_oral_abrocitinib">
                            <label for="past_oral_abrocitinib">Abrocitinib (Cibinqo)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="upadacitinib" id="past_oral_upadacitinib">
                            <label for="past_oral_upadacitinib">Upadacitinib (Rinvoq)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="prednisolone" id="past_oral_prednisolone">
                            <label for="past_oral_prednisolone">Prednisolon</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_oral_meds" value="other_oral" id="past_oral_other">
                            <label for="past_oral_other">Annen oral medisin (tabletter)</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">
                        Har du tidligere mottatt sprøytebehandlinger for atopisk eksem som du ikke lenger mottar? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="past_injectable_received" value="yes" id="past_injectable_yes" required>
                            <label for="past_injectable_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="past_injectable_received" value="no" id="past_injectable_no" required>
                            <label for="past_injectable_no">Nei</label>
                        </div>
                    </div>
                </div>
                <div class="question-group hidden" id="pastInjectableMedsQuestion">
                    <label class="question-label">
                        Hvilken/hvilke tidligere sprøytebehandlinger for atopisk eksem har du mottatt? (Velg alle som passer)
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_injectable_meds" value="methotrexate_injection" id="past_inject_methotrexate">
                            <label for="past_inject_methotrexate">Metotreksat sprøyte (Metex / Methofill / Nordimet)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_injectable_meds" value="lebrikizumab" id="past_inject_lebrikizumab">
                            <label for="past_inject_lebrikizumab">Lebrikizumab (Ebglyss)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_injectable_meds" value="dupilumab" id="past_inject_dupilumab">
                            <label for="past_inject_dupilumab">Dupilumab (Dupixent)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_injectable_meds" value="other_injectable" id="past_inject_other">
                            <label for="past_inject_other">Annen sprøytebehandling</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">
                        Har du tidligere brukt lokalbehandling for atopisk eksem som du ikke lenger bruker? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="past_topical_received" value="yes" id="past_topical_yes" required>
                            <label for="past_topical_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="past_topical_received" value="no" id="past_topical_no" required>
                            <label for="past_topical_no">Nei</label>
                        </div>
                    </div>
                </div>
                <div class="question-group hidden" id="pastTopicalMedsQuestion">
                    <label class="question-label">
                        Hvilken tidligere lokalbehandling for atopisk eksem har du brukt? (Velg alle som passer)
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_topical_meds" value="corticosteroid" id="past_topical_corticosteroid">
                            <label for="past_topical_corticosteroid">Topikalt kortikosteroid</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="past_topical_meds" value="other_topical" id="past_topical_other">
                            <label for="past_topical_other">Annen lokalbehandling</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">
                        Har du tidligere mottatt lysbehandling for atopisk eksem som du ikke lenger mottar? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="past_phototherapy_received" value="yes" id="past_photo_yes" required>
                            <label for="past_photo_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="past_phototherapy_received" value="no" id="past_photo_no" required>
                            <label for="past_photo_no">Nei</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">
                        Har du tidligere brukt noen annen form for behandling (f.eks. tillegsbehandling eller alternativmedisin) som du ikke lenger bruker? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="past_alternative_received" value="yes" id="past_alt_yes" required>
                            <label for="past_alt_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="past_alternative_received" value="no" id="past_alt_no" required>
                            <label for="past_alt_no">Nei</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <label class="question-label">
                        Har du noen gang hatt en periode uten noen behandling for atopisk eksem? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="past_period_no_treatment" value="yes" id="past_no_treatment_period_yes" required>
                            <label for="past_no_treatment_period_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="past_period_no_treatment" value="no" id="past_no_treatment_period_no" required>
                            <label for="past_no_treatment_period_no">Nei</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Comorbidities Section -->
            <div class="section" id="comorbidities">
                <h2 class="section-title">Følgesykdommer (Komorbiditeter)</h2>
                
                <div class="question-group">
                    <label class="question-label">
                        Mottar du behandling for astma, allergi og/eller rhinosinusitt? (Velg alle som passer)
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="respiratory_comorbidities" value="asthma" id="comorbid_asthma">
                            <label for="comorbid_asthma">Astma</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="respiratory_comorbidities" value="allergy" id="comorbid_allergy">
                            <label for="comorbid_allergy">Allergi</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="respiratory_comorbidities" value="rhinosinusitis" id="comorbid_rhinosinusitis">
                            <label for="comorbid_rhinosinusitis">Rhinosinusitt (bihulebetennelse)</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Mottar du behandling for sukkersyke (diabetes), hjerte- og karsykdommer og/eller osteoporose (beinskjørhet)? (Velg alle som passer)
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="metabolic_comorbidities" value="diabetes" id="comorbid_diabetes">
                            <label for="comorbid_diabetes">Sukkersyke (Diabetes)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="metabolic_comorbidities" value="cardiovascular" id="comorbid_cvd">
                            <label for="comorbid_cvd">Hjerte- og karsykdom</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="metabolic_comorbidities" value="osteoporosis" id="comorbid_osteoporosis">
                            <label for="comorbid_osteoporosis">Osteoporose (beinskjørhet)</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Mottar du behandling for depresjon, ADHD og/eller angst? (Velg alle som passer)
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-option">
                            <input type="checkbox" name="mental_health_comorbidities" value="depression" id="comorbid_depression">
                            <label for="comorbid_depression">Depresjon</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="mental_health_comorbidities" value="adhd" id="comorbid_adhd">
                            <label for="comorbid_adhd">ADHD</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="mental_health_comorbidities" value="anxiety" id="comorbid_anxiety">
                            <label for="comorbid_anxiety">Angst</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Disease Severity Section -->
            <div class="section" id="disease-severity">
                <h2 class="section-title">Sykdomsgrad</h2>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor stor del av kroppen din er dekket av atopisk eksem? Én håndflate tilsvarer 1% av kroppsarealet. <span class="required">*</span>
                    </label>
                    <div class="select-wrapper">
                        <select name="body_coverage" class="form-select" required>
                            <option value="">Velg prosent</option>
                            <option value="0-10">0-10%</option>
                            <option value="11-20">11-20%</option>
                            <option value="21-30">21-30%</option>
                            <option value="31-40">31-40%</option>
                            <option value="41-50">41-50%</option>
                            <option value="51-60">51-60%</option>
                            <option value="61-70">61-70%</option>
                            <option value="71-80">71-80%</option>
                            <option value="81-90">81-90%</option>
                            <option value="91-100">91-100%</option>
                        </select>
                    </div>
                </div>
                
				<div class="question-group">
					<label class="question-label">
						Hvor mange dager i løpet av den siste uken har symptomene dine plaget deg? <span class="required">*</span>
					</label>
					<div class="slider-input-group">
						<input type="range" name="symptoms_days_slider" class="slider-input" min="0" max="7" value="0" id="symptomsDaysSlider" required>
						<input type="number" name="symptoms_days" class="form-input slider-number" min="0" max="7" value="0" id="symptomsDaysNumber" required>
					</div>
				</div>
                
				<div class="question-group">
					<label class="question-label">
						På en skala fra 0 til 10, hvor 0 er "ingen kløe" og 10 er "verst tenkelige kløe", hvordan vil du vurdere kløen din på det verste øyeblikket i løpet av de siste 24 timene? <span class="required">*</span>
					</label>
					<div class="slider-input-group">
						<input type="range" name="itch_scale_slider" class="slider-input" min="0" max="10" value="0" id="itchScaleSlider" required>
						<input type="number" name="itch_scale" class="form-input slider-number" min="0" max="10" value="0" id="itchScaleNumber" required>
					</div>
				</div>

                
				<div class="question-group">
					<label class="question-label">
						I hvilken grad forstyrret kløen din søvnen i natt? <span class="required">*</span>
					</label>
					<div class="slider-input-group">
						<input type="range" name="sleep_interference_slider" class="slider-input" min="0" max="4" value="0" id="sleepInterferenceSlider" required>
						<input type="number" name="sleep_interference" class="form-input slider-number" min="0" max="4" value="0" id="sleepInterferenceNumber" required>
					</div>
					<div style="margin-top: 8px; text-align:center; color:#888;">
						0 = Ikke i det hele tatt, 1 = Litt, 2 = Moderat, 3 = Mye, 4 = Ekstremt
					</div>
				</div>

                
                <div class="question-group">
                    <label class="question-label">
                        Hvilke kroppsdeler er påvirket av atopisk eksem? (Velg alle som passer) <span class="required">*</span>
                    </label>
                    <div class="checkbox-group" id="affectedBodyPartsGroup">
                        <div class="checkbox-option">
                            <input type="checkbox" name="affected_body_parts" value="head_neck" id="body_head_neck">
                            <label for="body_head_neck">Hode, ansikt og nakke</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="affected_body_parts" value="arms" id="body_arms">
                            <label for="body_arms">Armer</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="affected_body_parts" value="trunk" id="body_trunk">
                            <label for="body_trunk">Overkropp</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="affected_body_parts" value="legs" id="body_legs">
                            <label for="body_legs">Bein/føtter</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="affected_body_parts" value="genitals" id="body_genitals">
                            <label for="body_genitals">Kjønnsorganer</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" name="affected_body_parts" value="hands" id="body_hands">
                            <label for="body_hands">Hender</label>
                        </div>
                    </div>
                     <input type="text" id="affected_body_parts_validation" style="opacity:0; width:0; height:0; position:absolute; z-index:-1;" required>
                </div>
            </div>
            
            <!-- DLQI Section -->
            <div class="section" id="dlqi">
                <h2 class="section-title">DLQI (Dermatology Life Quality Index)</h2>
                <p style="margin-bottom: 30px; text-align: center; color: #666;">Vennligst svar på følgende spørsmål om hvordan huden din har påvirket livet ditt den siste uken.</p>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor kløende, sår, smertefull eller sviende har huden din vært den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_1" value="3" id="dlqi1_3" required>
                            <label for="dlqi1_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_1" value="2" id="dlqi1_2" required>
                            <label for="dlqi1_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_1" value="1" id="dlqi1_1" required>
                            <label for="dlqi1_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_1" value="0" id="dlqi1_0" required>
                            <label for="dlqi1_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor flau eller selvbevisst har du vært på grunn av huden din den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_2" value="3" id="dlqi2_3" required>
                            <label for="dlqi2_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_2" value="2" id="dlqi2_2" required>
                            <label for="dlqi2_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_2" value="1" id="dlqi2_1" required>
                            <label for="dlqi2_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_2" value="0" id="dlqi2_0" required>
                            <label for="dlqi2_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mye har huden din forstyrret deg når du har vært på handletur eller stelt hjemme eller i hagen den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_3" value="3" id="dlqi3_3" required>
                            <label for="dlqi3_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_3" value="2" id="dlqi3_2" required>
                            <label for="dlqi3_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_3" value="1" id="dlqi3_1" required>
                            <label for="dlqi3_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_3" value="0" id="dlqi3_0" required>
                            <label for="dlqi3_0">Ikke i det hele tatt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_3" value="na" id="dlqi3_na" required>
                            <label for="dlqi3_na">Ikke relevant</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mye har huden din påvirket klærne du har hatt på deg den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_4" value="3" id="dlqi4_3" required>
                            <label for="dlqi4_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_4" value="2" id="dlqi4_2" required>
                            <label for="dlqi4_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_4" value="1" id="dlqi4_1" required>
                            <label for="dlqi4_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_4" value="0" id="dlqi4_0" required>
                            <label for="dlqi4_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mye har huden din påvirket sosiale aktiviteter eller fritidsaktiviteter den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_5" value="3" id="dlqi5_3" required>
                            <label for="dlqi5_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_5" value="2" id="dlqi5_2" required>
                            <label for="dlqi5_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_5" value="1" id="dlqi5_1" required>
                            <label for="dlqi5_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_5" value="0" id="dlqi5_0" required>
                            <label for="dlqi5_0">Ikke i det hele tatt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_5" value="na" id="dlqi5_na" required>
                            <label for="dlqi5_na">Ikke relevant</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mye har huden din gjort det vanskelig for deg å drive med sport den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_6" value="3" id="dlqi6_3" required>
                            <label for="dlqi6_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_6" value="2" id="dlqi6_2" required>
                            <label for="dlqi6_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_6" value="1" id="dlqi6_1" required>
                            <label for="dlqi6_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_6" value="0" id="dlqi6_0" required>
                            <label for="dlqi6_0">Ikke i det hele tatt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_6" value="na" id="dlqi6_na" required>
                            <label for="dlqi6_na">Ikke relevant</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Har huden din hindret deg i å jobbe eller studere den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                           <input type="radio" name="dlqi_7" value="yes" id="dlqi7_yes" required>
                            <label for="dlqi7_yes">Ja</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_7" value="no" id="dlqi7_no" required>
                            <label for="dlqi7_no">Nei</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_7" value="na" id="dlqi7_na" required>
                            <label for="dlqi7_na">Ikke relevant</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mye har huden din skapt problemer med partneren din, eller noen av dine nære venner eller slektninger den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_8" value="3" id="dlqi8_3" required>
                            <label for="dlqi8_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_8" value="2" id="dlqi8_2" required>
                            <label for="dlqi8_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_8" value="1" id="dlqi8_1" required>
                            <label for="dlqi8_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_8" value="0" id="dlqi8_0" required>
                            <label for="dlqi8_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mye har huden din forårsaket seksuelle vanskeligheter den siste uken? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_9" value="3" id="dlqi9_3" required>
                            <label for="dlqi9_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_9" value="2" id="dlqi9_2" required>
                            <label for="dlqi9_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_9" value="1" id="dlqi9_1" required>
                            <label for="dlqi9_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_9" value="0" id="dlqi9_0" required>
                            <label for="dlqi9_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor stort problem har behandlingen for huden din vært den siste uken, for eksempel ved å gjøre hjemmet ditt rotete, eller ved å ta opp tid? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="dlqi_10" value="3" id="dlqi10_3" required>
                            <label for="dlqi10_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_10" value="2" id="dlqi10_2" required>
                            <label for="dlqi10_2">Mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_10" value="1" id="dlqi10_1" required>
                            <label for="dlqi10_1">Litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="dlqi_10" value="0" id="dlqi10_0" required>
                            <label for="dlqi10_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
            </div>
            
			<!-- WHO-5 Section -->
			<div class="section" id="who5">
				<h2 class="section-title">WHO-5 Trivselsindeks</h2>
				<p style="margin-bottom: 30px; text-align: center; color: #666;">Vennligst angi for hver av de fem påstandene hva som ligger nærmest hvordan du har følt deg <b>de siste to ukene.</b></p>
				
				<div class="question-group">
					<label class="question-label">
						Jeg har følt meg glad og i godt humør <span class="required">*</span>
					</label>
					<div class="radio-group">
						<div class="radio-option">
							<input type="radio" name="who5_1" value="5" id="who1_5" required>
							<label for="who1_5">Hele tiden <span style="font-weight:normal"></span></label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_1" value="4" id="who1_4" required>
							<label for="who1_4">Det meste av tiden <span style="font-weight:normal"></span></label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_1" value="3" id="who1_3" required>
							<label for="who1_3">Mer enn halve tiden<span style="font-weight:normal"></span></label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_1" value="2" id="who1_2" required>
							<label for="who1_2">Mindre enn halve tiden<span style="font-weight:normal"></span></label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_1" value="1" id="who1_1" required>
							<label for="who1_1">Av og til<span style="font-weight:normal"></span></label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_1" value="0" id="who1_0" required>
							<label for="who1_0">Aldri<span style="font-weight:normal"></span></label>
						</div>
					</div>
				</div>
				<div class="question-group">
					<label class="question-label">
						Jeg har følt meg rolig og avslappet <span class="required">*</span>
					</label>
					<div class="radio-group">
						<div class="radio-option">
							<input type="radio" name="who5_2" value="5" id="who2_5" required>
							<label for="who2_5">Hele tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_2" value="4" id="who2_4" required>
							<label for="who2_4">Det meste av tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_2" value="3" id="who2_3" required>
							<label for="who2_3">Mer enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_2" value="2" id="who2_2" required>
							<label for="who2_2">Mindre enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_2" value="1" id="who2_1" required>
							<label for="who2_1">Av og til</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_2" value="0" id="who2_0" required>
							<label for="who2_0">Aldri</label>
						</div>
					</div>
				</div>
				<div class="question-group">
					<label class="question-label">
						Jeg har følt meg aktiv og sterk <span class="required">*</span>
					</label>
					<div class="radio-group">
						<div class="radio-option">
							<input type="radio" name="who5_3" value="5" id="who3_5" required>
							<label for="who3_5">Hele tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_3" value="4" id="who3_4" required>
							<label for="who3_4">Det meste av tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_3" value="3" id="who3_3" required>
							<label for="who3_3">Mer enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_3" value="2" id="who3_2" required>
							<label for="who3_2">Mindre enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_3" value="1" id="who3_1" required>
							<label for="who3_1">Av og til</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_3" value="0" id="who3_0" required>
							<label for="who3_0">Aldri</label>
						</div>
					</div>
				</div>
				<div class="question-group">
					<label class="question-label">
						Jeg har følt meg opplagt og utvilt når jeg våkner<span class="required">*</span>
					</label>
					<div class="radio-group">
						<div class="radio-option">
							<input type="radio" name="who5_4" value="5" id="who4_5" required>
							<label for="who4_5">Hele tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_4" value="4" id="who4_4" required>
							<label for="who4_4">Det meste</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_4" value="3" id="who4_3" required>
							<label for="who4_3">Mer enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_4" value="2" id="who4_2" required>
							<label for="who4_2">Mindre enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_4" value="1" id="who4_1" required>
							<label for="who4_1">Av og til</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_4" value="0" id="who4_0" required>
							<label for="who4_0">Aldri</label>
						</div>
					</div>
				</div>
				<div class="question-group">
					<label class="question-label">
						Jeg har følt meg at mitt daglige liv har vært fylt av ting som interesserer meg <span class="required">*</span>
					</label>
					<div class="radio-group">
						<div class="radio-option">
							<input type="radio" name="who5_5" value="5" id="who5_5" required>
							<label for="who5_5">Hele tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_5" value="4" id="who5_4" required>
							<label for="who5_4">Det meste av tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_5" value="3" id="who5_3" required>
							<label for="who5_3">Mer enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_5" value="2" id="who5_2" required>
							<label for="who5_2">Mindre enn halve tiden</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_5" value="1" id="who5_1" required>
							<label for="who5_1">Av og til</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="who5_5" value="0" id="who5_0" required>
							<label for="who5_0">Aldri</label>
						</div>
					</div>
				</div>
			</div>

            
            <!-- POEM Section -->
            <div class="section" id="poem">
                <h2 class="section-title">POEM (Patient Oriented Eczema Measure)</h2>
                <p style="margin-bottom: 30px; text-align: center; color: #666;">Vennligst svar på følgende spørsmål om eksemet ditt den siste uken.</p>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mange dager den siste uken har huden din klødd på grunn av eksemet? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="poem_1" value="0" id="poem1_0" required>
                            <label for="poem1_0">Ingen dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_1" value="1" id="poem1_1" required>
                            <label for="poem1_1">1-2 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_1" value="2" id="poem1_2" required>
                            <label for="poem1_2">3-4 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_1" value="3" id="poem1_3" required>
                            <label for="poem1_3">5-6 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_1" value="4" id="poem1_4" required>
                            <label for="poem1_4">Hver dag</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mange netter den siste uken har søvnen din blitt forstyrret på grunn av eksemet? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="poem_2" value="0" id="poem2_0" required>
                            <label for="poem2_0">Ingen netter</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_2" value="1" id="poem2_1" required>
                            <label for="poem2_1">1-2 netter</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_2" value="2" id="poem2_2" required>
                            <label for="poem2_2">3-4 netter</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_2" value="3" id="poem2_3" required>
                            <label for="poem2_3">5-6 netter</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_2" value="4" id="poem2_4" required>
                            <label for="poem2_4">Hver natt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mange dager den siste uken har huden din blødd på grunn av eksemet? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="poem_3" value="0" id="poem3_0" required>
                            <label for="poem3_0">Ingen dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_3" value="1" id="poem3_1" required>
                            <label for="poem3_1">1-2 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_3" value="2" id="poem3_2" required>
                            <label for="poem3_2">3-4 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_3" value="3" id="poem3_3" required>
                            <label for="poem3_3">5-6 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_3" value="4" id="poem3_4" required>
                            <label for="poem3_4">Hver dag</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mange dager den siste uken har huden din væsket (vært våt eller rent klar væske) på grunn av eksemet? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="poem_4" value="0" id="poem4_0" required>
                            <label for="poem4_0">Ingen dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_4" value="1" id="poem4_1" required>
                            <label for="poem4_1">1-2 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_4" value="2" id="poem4_2" required>
                            <label for="poem4_2">3-4 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_4" value="3" id="poem4_3" required>
                            <label for="poem4_3">5-6 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_4" value="4" id="poem4_4" required>
                            <label for="poem4_4">Hver dag</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mange dager den siste uken har huden din vært sprukket på grunn av eksemet? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="poem_5" value="0" id="poem5_0" required>
                            <label for="poem5_0">Ingen dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_5" value="1" id="poem5_1" required>
                            <label for="poem5_1">1-2 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_5" value="2" id="poem5_2" required>
                            <label for="poem5_2">3-4 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_5" value="3" id="poem5_3" required>
                            <label for="poem5_3">5-6 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_5" value="4" id="poem5_4" required>
                            <label for="poem5_4">Hver dag</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mange dager den siste uken har huden din flasset på grunn av eksemet? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="poem_6" value="0" id="poem6_0" required>
                            <label for="poem6_0">Ingen dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_6" value="1" id="poem6_1" required>
                            <label for="poem6_1">1-2 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_6" value="2" id="poem6_2" required>
                            <label for="poem6_2">3-4 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_6" value="3" id="poem6_3" required>
                            <label for="poem6_3">5-6 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_6" value="4" id="poem6_4" required>
                            <label for="poem6_4">Hver dag</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Hvor mange dager den siste uken har huden din føltes tørr eller ru på grunn av eksemet? <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="poem_7" value="0" id="poem7_0" required>
                            <label for="poem7_0">Ingen dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_7" value="1" id="poem7_1" required>
                            <label for="poem7_1">1-2 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_7" value="2" id="poem7_2" required>
                            <label for="poem7_2">3-4 dager</label>
                        </div>
						<div class="radio-option">
                            <input type="radio" name="poem_7" value="3" id="poem7_3" required>
                            <label for="poem7_3">5-6 dager</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="poem_7" value="4" id="poem7_4" required>
                            <label for="poem7_4">Hver dag</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- HADS Section -->
            <div class="section" id="hads">
                <h2 class="section-title">HADS (Hospital Anxiety and Depression Scale)</h2>
                <p style="margin-bottom: 30px; text-align: center; color: #666;">Vennligst les hvert punkt og velg svaret som kommer nærmest hvordan du har følt deg den siste uken.</p>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg føler meg anspent eller "stresset" <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_1" value="3" id="hads1_3" required>
                            <label for="hads1_3">Mesteparten av tiden</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_1" value="2" id="hads1_2" required>
                            <label for="hads1_2">Mye av tiden</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_1" value="1" id="hads1_1" required>
                            <label for="hads1_1">Av og til</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_1" value="0" id="hads1_0" required>
                            <label for="hads1_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg gleder meg fortsatt over de tingene jeg pleide å like <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_2" value="0" id="hads2_0" required>
                            <label for="hads2_0">Absolutt like mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_2" value="1" id="hads2_1" required>
                            <label for="hads2_1">Ikke fullt så mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_2" value="2" id="hads2_2" required>
                            <label for="hads2_2">Bare litt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_2" value="3" id="hads2_3" required>
                            <label for="hads2_3">Nesten ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg får en slags skremmende følelse som om noe forferdelig kommer til å skje <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_3" value="3" id="hads3_3" required>
                            <label for="hads3_3">Veldig tydelig og ganske ille</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_3" value="2" id="hads3_2" required>
                            <label for="hads3_2">Ja, men ikke så ille</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_3" value="1" id="hads3_1" required>
                            <label for="hads3_1">Litt, men det bekymrer meg ikke</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_3" value="0" id="hads3_0" required>
                            <label for="hads3_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg kan le og se den morsomme siden av ting <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_4" value="0" id="hads4_0" required>
                            <label for="hads4_0">Like mye som jeg alltid har kunnet</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_4" value="1" id="hads4_1" required>
                            <label for="hads4_1">Ikke fullt så mye nå</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_4" value="2" id="hads4_2" required>
                            <label for="hads4_2">Absolutt ikke så mye nå</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_4" value="3" id="hads4_3" required>
                            <label for="hads4_3">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Bekymringsfulle tanker går gjennom hodet mitt <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_5" value="3" id="hads5_3" required>
                            <label for="hads5_3">Veldig mye av tiden</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_5" value="2" id="hads5_2" required>
                            <label for="hads5_2">Mye av tiden</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_5" value="1" id="hads5_1" required>
                            <label for="hads5_1">Fra tid til annen, men ikke for ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_5" value="0" id="hads5_0" required>
                            <label for="hads5_0">Bare av og til</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg føler meg glad <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_6" value="3" id="hads6_3" required>
                            <label for="hads6_3">Ikke i det hele tatt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_6" value="2" id="hads6_2" required>
                            <label for="hads6_2">Ikke ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_6" value="1" id="hads6_1" required>
                            <label for="hads6_1">Noen ganger</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_6" value="0" id="hads6_0" required>
                            <label for="hads6_0">Mesteparten av tiden</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg kan sitte i ro og føle meg avslappet <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_7" value="0" id="hads7_0" required>
                            <label for="hads7_0">Absolutt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_7" value="1" id="hads7_1" required>
                            <label for="hads7_1">Vanligvis</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_7" value="2" id="hads7_2" required>
                            <label for="hads7_2">Ikke ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_7" value="3" id="hads7_3" required>
                            <label for="hads7_3">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg føler meg som om jeg er tregere <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_8" value="3" id="hads8_3" required>
                            <label for="hads8_3">Nesten hele tiden</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_8" value="2" id="hads8_2" required>
                            <label for="hads8_2">Veldig ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_8" value="1" id="hads8_1" required>
                            <label for="hads8_1">Noen ganger</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_8" value="0" id="hads8_0" required>
                            <label for="hads8_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg får en slags skremmende følelse som "sommerfugler" i magen <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_9" value="0" id="hads9_0" required>
                            <label for="hads9_0">Ikke i det hele tatt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_9" value="1" id="hads9_1" required>
                            <label for="hads9_1">Av og til</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_9" value="2" id="hads9_2" required>
                            <label for="hads9_2">Ganske ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_9" value="3" id="hads9_3" required>
                            <label for="hads9_3">Veldig ofte</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg har mistet interessen for utseendet mitt <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_10" value="3" id="hads10_3" required>
                            <label for="hads10_3">Absolutt</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_10" value="2" id="hads10_2" required>
                            <label for="hads10_2">Jeg bryr meg ikke så mye som jeg burde</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_10" value="1" id="hads10_1" required>
                            <label for="hads10_1">Jeg bryr meg kanskje ikke fullt så mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_10" value="0" id="hads10_0" required>
                            <label for="hads10_0">Jeg bryr meg like mye som alltid</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg føler meg rastløs som om jeg må være i bevegelse <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_11" value="3" id="hads11_3" required>
                            <label for="hads11_3">Veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_11" value="2" id="hads11_2" required>
                            <label for="hads11_2">Ganske mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_11" value="1" id="hads11_1" required>
                            <label for="hads11_1">Ikke veldig mye</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_11" value="0" id="hads11_0" required>
                            <label for="hads11_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg ser frem med glede til ting <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_12" value="0" id="hads12_0" required>
                            <label for="hads12_0">Like mye som jeg alltid gjorde</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_12" value="1" id="hads12_1" required>
                            <label for="hads12_1">Heller mindre enn jeg pleide</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_12" value="2" id="hads12_2" required>
                            <label for="hads12_2">Absolutt mindre enn jeg pleide</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_12" value="3" id="hads12_3" required>
                            <label for="hads12_3">Nesten ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg får plutselige panikkfølelser <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_13" value="3" id="hads13_3" required>
                            <label for="hads13_3">Veldig ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_13" value="2" id="hads13_2" required>
                            <label for="hads13_2">Ganske ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_13" value="1" id="hads13_1" required>
                            <label for="hads13_1">Ikke veldig ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_13" value="0" id="hads13_0" required>
                            <label for="hads13_0">Ikke i det hele tatt</label>
                        </div>
                    </div>
                </div>
                
                <div class="question-group">
                    <label class="question-label">
                        Jeg kan glede meg over en god bok, radio- eller TV-program <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="hads_14" value="0" id="hads14_0" required>
                            <label for="hads14_0">Ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_14" value="1" id="hads14_1" required>
                            <label for="hads14_1">Noen ganger</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_14" value="2" id="hads14_2" required>
                            <label for="hads14_2">Ikke ofte</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="hads_14" value="3" id="hads14_3" required>
                            <label for="hads14_3">Veldig sjelden</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- WPAI Section -->
			<div class="section" id="wpai">
				<h2 class="section-title">WPAI (Work Productivity and Activity Impairment)</h2>
				<!-- Work status question -->
				<div class="question-group">
					<label class="question-label">
						Er du for tiden i arbeid (arbeid for betaling)? <span class="required">*</span>
					</label>
					<div class="radio-group" id="wpaiWorkingGroup">
						<div class="radio-option">
							<input type="radio" name="wpai_working" value="yes" id="wpai_working_yes" required>
							<label for="wpai_working_yes">Ja</label>
						</div>
						<div class="radio-option">
							<input type="radio" name="wpai_working" value="no" id="wpai_working_no" required>
							<label for="wpai_working_no">Nei</label>
						</div>
					</div>
				</div>
				<!-- Info box -->
				<div id="wpaiInfoBox" style="margin: 24px 0; background: #f8f9fa; padding: 16px; border-radius: 8px; text-align: center; font-size: 1.1em;">
					De neste spørsmålene gjelder de <b>siste sju dagene.</b> Dagen i dag skal ikke medregnes.
				</div>
				<!-- Employed questions (shown only if 'Ja' is selected) -->
				<div id="wpaiEmployedQuestions">
					<!-- SLIDER 1 -->
					<div class="question-group" id="wpaiHoursQ1">
						<label class="question-label">
							2) 	Hvor mange timer fravær har du hatt fra jobben på grunn av <u>dine helseproblemer</u> i løpet av de siste sju dagene? <span class="required">*</span> <div style="margin-top: 8px; color: #888; font-size:0.95em"><i>Regn sammen antallet timer du var fraværende i forbindelse med sykedager, ganger du kom for sent, gikk hjem tidlig, osv. på grunn av helseproblemene. Regn ikke med tiden du er fraværende for å delta i denne undersøkelsen.</i></div>
						</label>
						<div class="slider-input-group">
							<input type="range" name="wpai_hours_should_work_slider" class="slider-input" min="0" max="168" value="0" id="wpaiHoursShouldWorkSlider" required>
							<input type="number" name="wpai_hours_should_work" class="form-input slider-number" min="0" max="168" value="0" id="wpaiHoursShouldWorkNumber" required>
						</div>
						<div style="margin-top: 8px; color: #888; font-size:0.95em; text-align:center;">
							0–168 timer (maks 24 timer x 7 dager)
						</div>
					</div>
					<!-- SLIDER 2 -->
					<div class="question-group" id="wpaiHoursQ2">
						<label class="question-label">
							3) 	Hvor mange timer fravær har du hatt fra jobben av andre årsaker i løpet av de siste sju dagene, for eksempel ferie, helligdager, fravær for å delta i denne undersøkelsen? <span class="required">*</span>
						</label>
						<div class="slider-input-group">
							<input type="range" name="wpai_hours_missed_health_slider" class="slider-input" min="0" max="168" value="0" id="wpaiHoursMissedHealthSlider" required>
							<input type="number" name="wpai_hours_missed_health" class="form-input slider-number" min="0" max="168" value="0" id="wpaiHoursMissedHealthNumber" required>
						</div>
						<div style="margin-top: 8px; color: #888; font-size:0.95em; text-align:center;">
							0–168 timer (maks 24 timer x 7 dager)
						</div>
					</div>
					<!-- SLIDER 3 -->
					<div class="question-group" id="wpaiHoursQ3">
						<label class="question-label">
							4) 	Hvor mange timer har du faktisk arbeidet i løpet av de siste sju dagene? <span class="required">*</span>
						</label>
						<div class="slider-input-group">
							<input type="range" name="wpai_hours_missed_other_slider" class="slider-input" min="0" max="168" value="0" id="wpaiHoursMissedOtherSlider" required>
							<input type="number" name="wpai_hours_missed_other" class="form-input slider-number" min="0" max="168" value="0" id="wpaiHoursMissedOtherNumber" required>
						</div>
						<div style="margin-top: 8px; color: #888; font-size:0.95em; text-align:center;">
							0–168 timer (maks 24 timer x 7 dager)
						</div>
					</div>
					<!-- Presenteeism slider -->
					<div class="question-group" id="wpaiPresenteeismGroup">
						<label class="question-label">
							Hvor stor innvirkning hadde dine helseproblemer på din produktivitet <u>mens du arbeidet</u> i løpet av de siste sju dagene? (0–10) <span class="required">*</span> <div style="margin-top: 8px; color: #888; font-size:0.95em"><i>Tenk tilbake på dager da det var begrenset hvor mye du kunne gjøre eller hva slags arbeid du kunne utføre, dager du oppnådde mindre enn du ønsket, eller dager da du ikke kunne utføre arbeidet like omhyggelig som vanlig. Hvis helseproblemer innvirket bare litt på arbeidet, velger du et lavt tall. Velg et høyere tall hvis helseproblemer hadde stor innvirkning på arbeidet.</i></div>
						</label>
						<div class="slider-input-group">
							<input type="range" name="wpai_presenteeism_slider" class="slider-input" min="0" max="10" value="0" id="wpaiPresenteeismSlider" required>
							<input type="number" name="wpai_presenteeism" class="form-input slider-number" min="0" max="10" value="0" id="wpaiPresenteeismNumber" required>
						</div>
						<div style="margin-top: 8px; color: #888; font-size:0.95em; text-align:center;">
							0: Helseproblemer hadde ingen innvirkning på arbeidet mitt<br>
							10: Helseproblemer hindret meg fullstendig i å utføre arbeidet mitt
						</div>
					</div>
				</div>
				<!-- Activity impairment slider (always shown) -->
				<div class="question-group" id="wpaiDailyActivityGroup">
					<label class="question-label">
						Hvor stor innvirkning hadde dine helseproblemer på din evne til å utføre vanlige, daglige 	aktiviteter, utenom arbeid i løpet av de siste sju dagene? <span class="required">*</span> <div style="margin-top: 8px; color: #888; font-size:0.95em"><i>Med vanlige aktiviteter mener vi de 	vanlige aktivitetene du utfører, f.eks. husarbeid, handling, omsorg for barn, trening, studering, 	osv. Tenk tilbake på de gangene det var begrenset hvor mye du kunne gjøre eller hva slags 	aktiviteter du kunne delta i, foruten hvor mange ganger du fikk gjort mindre enn du ønsket. Hvis 	helseproblemer innvirket bare litt på dine aktiviteter, velger du et lavt tall. Velg et høyere tall 	hvis helseproblemer hadde stor innvirkning på dine aktiviteter.</i></div>
					</label>
					<div class="slider-input-group">
						<input type="range" name="wpai_activity_slider" class="slider-input" min="0" max="10" value="0" id="wpaiActivitySlider" required>
						<input type="number" name="wpai_activity" class="form-input slider-number" min="0" max="10" value="0" id="wpaiActivityNumber" required>
					</div>
					<div style="margin-top: 8px; color: #888; font-size:0.95em; text-align:center;">
						0: Helseproblemer hadde ingen innvirkning på mine daglige aktiviteter<br>
						10: Helseproblemer hindret meg fullstendig i å utføre daglige aktiviteter
					</div>
				</div>
			</div>

            
            <div class="nav-buttons">
                <button type="button" class="nav-btn prev-btn" id="prevBtn" style="display: none;">Forrige</button>
                <button type="button" class="nav-btn next-btn" id="nextBtn">Neste seksjon</button>
                <button type="submit" class="nav-btn submit-btn" id="submitBtn" style="display: none;">Fullfør undersøkelse</button>
            </div>
        </form>
    </div>
    
    <!-- Timer Result Modal -->
    <div id="timerModal" class="modal">
        <div class="modal-content">
            <h2>Undersøkelse fullført!</h2>
            <p>Takk for din deltakelse.</p>
            <p>Tid for å fullføre:</p>
            <div class="time-display" id="completionTime">00:00</div>
            <button class="modal-btn" onclick="closeModal()">Lukk</button>
        </div>
    </div>
    
    <script>
        // NOTE: I am keeping the original JS logic but modifying alert messages to Norwegian.
        // The core functionality remains unchanged.
        let timerStart = null;
        let timerStarted = false;
        let currentSection = 0;
        let surveyStopped = false;
        
        const sections = ['background', 'employment', 'treatment', 'past-treatment', 'comorbidities', 'disease-severity', 'dlqi', 'who5', 'poem', 'hads', 'wpai'];
        
        function startTimer() {
            if (!timerStarted && !surveyStopped) {
                timerStart = new Date();
                timerStarted = true;
                console.log('Timer started');
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            setupSliders();
            setupNavigation();
            setupConditionalLogic();
            setupFormInteractions();
            setupCheckboxGroupValidation();
        });
        
        function setupCheckboxGroupValidation() {
            const bodyPartsCheckboxes = document.querySelectorAll('input[name="affected_body_parts"]');
            const validationInput = document.getElementById('affected_body_parts_validation');

            bodyPartsCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    const isAnyChecked = Array.from(bodyPartsCheckboxes).some(cb => cb.checked);
                    validationInput.value = isAnyChecked ? 'valid' : '';
                });
            });
            const isAnyCheckedInitially = Array.from(bodyPartsCheckboxes).some(cb => cb.checked);
            validationInput.value = isAnyCheckedInitially ? 'valid' : '';
        }


        function setupSliders() {
            const ageSlider = document.getElementById('ageSlider');
            const ageNumber = document.getElementById('ageNumber');
            const ageError = document.getElementById('ageError');
            
            function syncAgeInputs(value) {
                ageSlider.value = value;
                ageNumber.value = value;
                if (value < 18 || value > 119) ageError.style.display = 'block';
                else ageError.style.display = 'none';
            }
            if (ageSlider) ageSlider.addEventListener('input', function() { syncAgeInputs(this.value); startTimer(); });
            if (ageNumber) ageNumber.addEventListener('input', function() { syncAgeInputs(this.value); startTimer(); });
            
            function setupGenericSlider(sliderId, numberId) {
                const slider = document.getElementById(sliderId);
                const number = document.getElementById(numberId);
                if (slider && number) {
                    function syncInputs(value) { slider.value = value; number.value = value; }
                    slider.addEventListener('input', function() { syncInputs(this.value); startTimer(); });
                    number.addEventListener('input', function() { syncInputs(this.value); startTimer(); });
                }
            }
            setupGenericSlider('weightSlider', 'weightNumber');
            setupGenericSlider('heightSlider', 'heightNumber');
            setupGenericSlider('partTimeSlider', 'partTimeNumber');
            setupGenericSlider('wpai1Slider', 'wpai1Number');
            setupGenericSlider('wpai2Slider', 'wpai2Number');
            setupGenericSlider('wpai3Slider', 'wpai3Number');
        }
        
        function setupNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            nextBtn.addEventListener('click', function() {
                if (surveyStopped) return;

                const currentSectionElement = document.getElementById(sections[currentSection]);
                let firstInvalidField = null;

                const fieldsToCheck = currentSectionElement.querySelectorAll('input[required], select[required], textarea[required]');
                
                for (const field of fieldsToCheck) {
                    let isFieldEffectivelyVisible = true;
                    let currentElement = field;
                    while (currentElement && currentElement !== document.body) {
                        const styles = window.getComputedStyle(currentElement);
                        if (styles.display === 'none' || styles.visibility === 'hidden') {
                            if (field.id === 'affected_body_parts_validation' && currentElement.id === 'affected_body_parts_validation') {
                                const bodyPartsGroup = document.getElementById('affectedBodyPartsGroup');
                                if (bodyPartsGroup && window.getComputedStyle(bodyPartsGroup).display === 'none') {
                                     isFieldEffectivelyVisible = false;
                                }
                            } else {
                                isFieldEffectivelyVisible = false;
                            }
                            break;
                        }
                        if (currentElement.classList.contains('hidden')) {
                             isFieldEffectivelyVisible = false;
                             break;
                        }
                        currentElement = currentElement.parentElement;
                    }

                    if (isFieldEffectivelyVisible) {
                        if (!field.checkValidity()) {
                            firstInvalidField = field;
                            break; 
                        }
                    }
                }

                if (firstInvalidField) {
                    if (typeof firstInvalidField.reportValidity === 'function') {
                        firstInvalidField.reportValidity(); 
                    } else {
                        firstInvalidField.focus(); 
                    }
                    if (firstInvalidField.id === 'affected_body_parts_validation') {
                         alert('Vennligst velg minst én påvirket kroppsdel.');
                    } else {
                         alert('Vennligst fyll ut alle obligatoriske felt i denne seksjonen før du fortsetter.');
                    }
                } else {
                    if (currentSection < sections.length - 1) {
                        currentSection++;
                        showSection(currentSection);
                    }
                }
            });
            
            prevBtn.addEventListener('click', function() {
                if (currentSection > 0 && !surveyStopped) {
                    currentSection--;
                    showSection(currentSection);
                }
            });
            
            document.querySelectorAll('.section-tab').forEach((tab, index) => {
                tab.addEventListener('click', function() {
                    if (!surveyStopped) {
                        currentSection = index;
                        showSection(currentSection);
                    }
                });
            });
        }
        
        function showSection(index) {
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
            document.getElementById(sections[index]).classList.add('active');
            document.querySelector('.survey-form').scrollTop = 0;

            document.querySelectorAll('.section-tab').forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });
            
            document.getElementById('prevBtn').style.display = index === 0 ? 'none' : 'block';
            document.getElementById('nextBtn').style.display = index === sections.length - 1 ? 'none' : 'block';
            document.getElementById('submitBtn').style.display = index === sections.length - 1 ? 'block' : 'none';
        }
        
        function setRequired(elements, required) {
            elements.forEach(el => {
                if (el) {
                    el.required = required;
                    if (!required && el.type === 'radio' && el.checked) {
                        el.checked = false;
                        (el.closest('.radio-option') || el.closest('.scale-option'))?.classList.remove('selected');
                    }
                     if (!required && el.type === 'checkbox' && el.checked) {
                        el.checked = false;
                         el.closest('.checkbox-option')?.classList.remove('selected');
                    }
                     if (!required && el.tagName === 'SELECT') {
                        el.value = '';
                    }
                }
            });
        }

        function updateNoTreatmentQuestionVisibility() {
            const treatmentDiv = document.getElementById('treatmentQuestions');
            if (!treatmentDiv || treatmentDiv.style.display === 'none') {
                return;
            }

            const noTreatmentGroup = document.getElementById('currentNoTreatmentAnyQuestionGroup');
            const noTreatmentRadios = document.querySelectorAll('input[name="current_no_treatment_any"]');

            const isOralYes = document.querySelector('input[name="current_oral"][value="yes"]:checked');
            const isInjectableYes = document.querySelector('input[name="current_injectable"][value="yes"]:checked');
            const isTopicalYes = document.querySelector('input[name="current_topical"][value="yes"]:checked');
            const isPhototherapyYes = document.querySelector('input[name="current_phototherapy"][value="yes"]:checked');
            const isAlternativeYes = document.querySelector('input[name="current_alternative"][value="yes"]:checked');

            const anyOtherTreatmentSelected = isOralYes || isInjectableYes || isTopicalYes || isPhototherapyYes || isAlternativeYes;

            if (anyOtherTreatmentSelected) {
                noTreatmentGroup.classList.add('hidden');
                setRequired(noTreatmentRadios, false); 
            } else {
                noTreatmentGroup.classList.remove('hidden');
                setRequired(noTreatmentRadios, true); 
            }
        }

        function setupConditionalLogic() {
            document.querySelectorAll('input[name="gender"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const pregQ = document.getElementById('pregnancyQuestion');
                    const pregRadios = document.querySelectorAll('input[name="pregnant_lactating"]');
                    const isFemale = this.value === 'female';
                    pregQ.classList.toggle('hidden', !isFemale);
                    setRequired(pregRadios, isFemale);
                    if (!isFemale) {
                        document.getElementById('pregnancyStop').style.display = 'none';
                        surveyStopped = false; showSection(currentSection);
                    }
                });
            });
            
            document.querySelectorAll('input[name="pregnant_lactating"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const isPregnantOrLactating = this.value === 'yes';
                    document.getElementById('pregnancyStop').style.display = isPregnantOrLactating ? 'block' : 'none';
                    surveyStopped = isPregnantOrLactating;
                    showSection(currentSection); 
                });
            });
            
            document.querySelectorAll('input[name="work_situation"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const conditions = {
                        part_time: { question: 'partTimeQuestion', input: 'partTimeNumber', type: 'number' },
                        partial_disability: { question: 'disabilityPercentageQuestion', input: 'disability_percentage', type: 'select', also: { question: 'disabilityReasonQuestion', radios: 'disability_reason'} },
                        full_disability: { question: 'disabilityReasonQuestion', radios: 'disability_reason'},
                        not_working: { question: 'notWorkingReasonQuestion', radios: 'not_working_reason'}
                    };
                    // Hide all and remove required from their specific inputs/radios
                    Object.values(conditions).forEach(cond => {
                        if(document.getElementById(cond.question)) document.getElementById(cond.question).classList.add('hidden');
                        if(cond.input && document.getElementById(cond.input)) setRequired([document.getElementById(cond.input)], false);
                        if(cond.radios) setRequired(document.querySelectorAll(`input[name="${cond.radios}"]`), false);
                        if(cond.also && document.getElementById(cond.also.question)) {
                             document.getElementById(cond.also.question).classList.add('hidden');
                             setRequired(document.querySelectorAll(`input[name="${cond.also.radios}"]`), false);
                        }
                    });

                    const selectedCondition = conditions[this.value];
                    if (selectedCondition) {
                        if(document.getElementById(selectedCondition.question)) document.getElementById(selectedCondition.question).classList.remove('hidden');
                        if(selectedCondition.input && document.getElementById(selectedCondition.input)) setRequired([document.getElementById(selectedCondition.input)], true);
                        if(selectedCondition.radios) setRequired(document.querySelectorAll(`input[name="${selectedCondition.radios}"]`), true);
                         if(selectedCondition.also && document.getElementById(selectedCondition.also.question)) {
                             document.getElementById(selectedCondition.also.question).classList.remove('hidden');
                             setRequired(document.querySelectorAll(`input[name="${selectedCondition.also.radios}"]`), true);
                        }
                    }
                });
            });
            
            document.querySelectorAll('input[name="ever_treated"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const treatmentDiv = document.getElementById('treatmentQuestions');
                    const isYes = this.value === 'yes';
                    treatmentDiv.style.display = isYes ? 'block' : 'none';

                    setRequired([document.querySelector('select[name="first_treatment"]')], isYes);
                    ['current_oral', 'current_injectable', 'current_topical', 'current_phototherapy', 'current_alternative', 'treatment_satisfaction'].forEach(name => {
                        setRequired(document.querySelectorAll(`input[name="${name}"]`), isYes);
                    });
                    
                    const noTreatmentRadios = document.querySelectorAll('input[name="current_no_treatment_any"]');
                    if (isYes) {
                        updateNoTreatmentQuestionVisibility(); 
                    } else {
                        document.getElementById('currentNoTreatmentAnyQuestionGroup').classList.add('hidden');
                        setRequired(noTreatmentRadios, false);
                    }

                    if (!isYes) { 
                        ['currentOralMedsQuestion', 'currentInjectableMedsQuestion', 'currentTopicalMedsQuestion'].forEach(id => {
                            const el = document.getElementById(id);
                            if (el) {
                                el.classList.add('hidden');
                                el.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                                    cb.checked = false; cb.closest('.checkbox-option')?.classList.remove('selected');
                                });
                            }
                        });
                        ['current_oral', 'current_injectable', 'current_topical', 'current_phototherapy', 'current_alternative', 'current_no_treatment_any', 'treatment_satisfaction'].forEach(name => {
                            document.querySelectorAll(`input[name="${name}"]`).forEach(rb => {
                                rb.checked = false;
                                (rb.closest('.radio-option') || rb.closest('.scale-option'))?.classList.remove('selected');
                            });
                        });
                    }
                });
            });
            
            ['current_oral', 'current_injectable', 'current_topical', 'current_phototherapy', 'current_alternative'].forEach(name => {
                document.querySelectorAll(`input[name="${name}"]`).forEach(radio => {
                    radio.addEventListener('change', updateNoTreatmentQuestionVisibility);
                });
            });

            function setupConditionalCheckbox(radioName, questionId, checkboxGroupName) {
                document.querySelectorAll(`input[name="${radioName}"]`).forEach(radio => {
                    radio.addEventListener('change', function() {
                        const questionDiv = document.getElementById(questionId);
                        if (questionDiv) {
                            const isYes = this.value === 'yes';
                            questionDiv.classList.toggle('hidden', !isYes);
                            if (!isYes) {
                                document.querySelectorAll(`input[name="${checkboxGroupName}"]`).forEach(cb => {
                                    cb.checked = false; cb.closest('.checkbox-option')?.classList.remove('selected');
                                });
                            }
                        }
                        if (['current_oral', 'current_injectable', 'current_topical'].includes(radioName)) {
                            updateNoTreatmentQuestionVisibility();
                        }
                    });
                });
            }
            setupConditionalCheckbox('current_oral', 'currentOralMedsQuestion', 'current_oral_meds');
            setupConditionalCheckbox('current_injectable', 'currentInjectableMedsQuestion', 'current_injectable_meds');
            setupConditionalCheckbox('current_topical', 'currentTopicalMedsQuestion', 'current_topical_meds');
            setupConditionalCheckbox('past_oral_received', 'pastOralMedsQuestion', 'past_oral_meds');
            setupConditionalCheckbox('past_injectable_received', 'pastInjectableMedsQuestion', 'past_injectable_meds');
            setupConditionalCheckbox('past_topical_received', 'pastTopicalMedsQuestion', 'past_topical_meds');
        }
        
        function setupFormInteractions() {
            const allInputs = document.querySelectorAll('input, select, textarea');
            allInputs.forEach(input => {
                input.addEventListener('focus', startTimer);
                input.addEventListener('input', startTimer);
                input.addEventListener('change', startTimer);
            });
            
            document.querySelectorAll('.radio-option').forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    if (radio && !surveyStopped) {
                        radio.checked = true;
                        document.querySelectorAll(`input[name="${radio.name}"]`).forEach(r => {
                            r.closest('.radio-option')?.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        radio.dispatchEvent(new Event('change'));
                    }
                });
            });
            
            document.querySelectorAll('.checkbox-option').forEach(option => {
                option.addEventListener('click', function() {
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    if (checkbox && !surveyStopped) {
                        checkbox.checked = !checkbox.checked;
                        this.classList.toggle('selected', checkbox.checked); 
                        checkbox.dispatchEvent(new Event('change'));
                        startTimer();
                    }
                });
            });
            
            document.querySelectorAll('.scale-option').forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    if (radio && !surveyStopped) {
                        radio.checked = true;
                        document.querySelectorAll(`input[name="${radio.name}"]`).forEach(r => {
                           r.closest('.scale-option')?.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        radio.dispatchEvent(new Event('change'));
                        startTimer();
                    }
                });
            });
        }
        
        document.getElementById('surveyForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (surveyStopped) return;

            // Minor adjustment to DLQI Q7 logic due to translation change from 4 options to 3
            const dlqi7Radios = document.querySelectorAll('input[name="dlqi_7"]');
            dlqi7Radios.forEach(radio => {
                if (radio.id === 'dlqi7_yes') radio.value = "3";
                if (radio.id === 'dlqi7_no') radio.value = "0";
            });

            let firstInvalidFieldOverall = null;
            for (const sectionId of sections) { 
                const sectionElement = document.getElementById(sectionId);
                const fieldsToCheck = sectionElement.querySelectorAll('input[required], select[required], textarea[required]');
                for (const field of fieldsToCheck) {
                    let isFieldEffectivelyVisible = true;
                    let currentElement = field;
                     while (currentElement && currentElement !== document.body) {
                        const styles = window.getComputedStyle(currentElement);
                         if (styles.display === 'none' || styles.visibility === 'hidden' || currentElement.classList.contains('hidden')) {
                            if (field.id === 'affected_body_parts_validation' && currentElement.id === 'affected_body_parts_validation') {
                               const bodyPartsGroup = document.getElementById('affectedBodyPartsGroup');
                                if (bodyPartsGroup && window.getComputedStyle(bodyPartsGroup).display === 'none') isFieldEffectivelyVisible = false;
                            } else {
                                isFieldEffectivelyVisible = false;
                            }
                            break;
                        }
                        currentElement = currentElement.parentElement;
                    }

                    if (isFieldEffectivelyVisible && !field.checkValidity()) {
                        firstInvalidFieldOverall = field;
                        break;
                    }
                }
                if (firstInvalidFieldOverall) break;
            }
            
            if (firstInvalidFieldOverall) {
                const invalidSectionIndex = sections.indexOf(firstInvalidFieldOverall.closest('.section').id);
                if (invalidSectionIndex !== currentSection) {
                    showSection(invalidSectionIndex); 
                }
                setTimeout(() => { 
                    if (typeof firstInvalidFieldOverall.reportValidity === 'function') {
                        firstInvalidFieldOverall.reportValidity();
                    } else {
                        firstInvalidFieldOverall.focus();
                    }
                     if (firstInvalidFieldOverall.id === 'affected_body_parts_validation') {
                         alert('Vennligst velg minst én påvirket kroppsdel.');
                    } else {
                        alert('Vennligst fyll ut alle obligatoriske felt.');
                    }
                }, 100); 
                return;
            }
            
            if (!timerStarted) { 
                 alert("Det ser ut til at undersøkelsen ikke ble aktivt fylt ut. Vennligst gå gjennom spørsmålene.");
                 return;
            }
            
            const endTime = new Date();
            const totalTime = Math.floor((endTime - timerStart) / 1000);
            const minutes = Math.floor(totalTime / 60);
            const seconds = totalTime % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('completionTime').textContent = timeString;
            document.getElementById('timerModal').style.display = 'block';
            
            console.log('Undersøkelse fullført på:', timeString);
        });
        
        function closeModal() {
            document.getElementById('timerModal').style.display = 'none';
        }
        
        window.addEventListener('click', function(event) {
            if (event.target === document.getElementById('timerModal')) {
                closeModal();
            }
        });
    </script>
	
	<script>
	document.getElementById('postalCodeInput').addEventListener('input', function() {
		var val = parseInt(this.value, 10);
		var errorDiv = document.getElementById('postalCodeError');
		if (this.value === "") {
			errorDiv.style.display = "none";
			this.setCustomValidity("");
		} else if (isNaN(val) || val < 1 || val > 9999) {
			errorDiv.style.display = "block";
			this.setCustomValidity("Postnummer må være mellom 0001 og 9999.");
		} else {
			errorDiv.style.display = "none";
			this.setCustomValidity("");
		}
	});
	</script>

	<script>
		// Disability percentage slider sync + validation
		const disSlider = document.getElementById('disabilityPercentageSlider');
		const disNumber = document.getElementById('disabilityPercentageNumber');
		const disError = document.getElementById('disabilityPercentageError');

		function updateDisabilityInputs(e) {
			let val = parseInt(e.target.value, 10);
			if (e.target === disSlider) {
				disNumber.value = val;
			} else {
				disSlider.value = val;
			}
			if (isNaN(val) || val < 50 || val > 99) {
				disError.style.display = 'block';
				disNumber.setCustomValidity("Uføregrad må være mellom 50 og 99.");
			} else {
				disError.style.display = 'none';
				disNumber.setCustomValidity("");
			}
		}
		if (disSlider && disNumber && disError) {
			disSlider.addEventListener('input', updateDisabilityInputs);
			disNumber.addEventListener('input', updateDisabilityInputs);
		}
	</script>

	<script>
	function syncSliderAndNumber(sliderId, numberId, min, max) {
		const slider = document.getElementById(sliderId);
		const number = document.getElementById(numberId);
		if (slider && number) {
			slider.addEventListener('input', () => {
				number.value = slider.value;
			});
			number.addEventListener('input', () => {
				let val = parseInt(number.value, 10);
				if (isNaN(val) || val < min) val = min;
				if (val > max) val = max;
				slider.value = val;
				number.value = val;
			});
		}
	}

	// Symptoms days (0-7)
	syncSliderAndNumber('symptomsDaysSlider', 'symptomsDaysNumber', 0, 7);
	// Itch scale (0-10)
	syncSliderAndNumber('itchScaleSlider', 'itchScaleNumber', 0, 10);
	// Sleep interference (0-4)
	syncSliderAndNumber('sleepInterferenceSlider', 'sleepInterferenceNumber', 0, 4);
	</script>

	<script>
	function syncSliderAndNumber(sliderId, numberId, min, max, callback) {
		const slider = document.getElementById(sliderId);
		const number = document.getElementById(numberId);
		if (slider && number) {
			slider.addEventListener('input', () => {
				number.value = slider.value;
				if (callback) callback(slider.value);
			});
			number.addEventListener('input', () => {
				let val = parseInt(number.value, 10);
				if (isNaN(val) || val < min) val = min;
				if (val > max) val = max;
				slider.value = val;
				number.value = val;
				if (callback) callback(val);
			});
		}
	}

	// Existing slider/number syncs:
	syncSliderAndNumber('wpaiHoursShouldWorkSlider', 'wpaiHoursShouldWorkNumber', 0, 168);
	syncSliderAndNumber('wpaiHoursMissedHealthSlider', 'wpaiHoursMissedHealthNumber', 0, 168);
	// NEW: for "andre grunner", include callback to show/hide presenteeism
	syncSliderAndNumber('wpaiHoursMissedOtherSlider', 'wpaiHoursMissedOtherNumber', 0, 168, function(val) {
		const presenteeismGroup = document.getElementById('wpaiPresenteeismGroup');
		if (parseInt(val, 10) === 0) {
			presenteeismGroup.style.display = 'none';
			// Optionally, clear any value
			document.getElementById('wpaiPresenteeismSlider').value = 0;
			document.getElementById('wpaiPresenteeismNumber').value = 0;
		} else {
			presenteeismGroup.style.display = '';
		}
	});
	syncSliderAndNumber('wpaiPresenteeismSlider', 'wpaiPresenteeismNumber', 0, 10);
	syncSliderAndNumber('wpaiActivitySlider', 'wpaiActivityNumber', 0, 10);

	// WPAI employed questions show/hide logic unchanged
	const wpaiWorkingRadios = document.querySelectorAll('input[name="wpai_working"]');
	const wpaiEmployedQuestions = document.getElementById('wpaiEmployedQuestions');
	wpaiWorkingRadios.forEach(radio => {
		radio.addEventListener('change', function() {
			if (this.value === "yes") {
				wpaiEmployedQuestions.style.display = "";
			} else if (this.value === "no") {
				wpaiEmployedQuestions.style.display = "none";
			}
		});
	});
	window.addEventListener('DOMContentLoaded', function() {
		const checked = document.querySelector('input[name="wpai_working"]:checked');
		if (checked && checked.value === "no") {
			wpaiEmployedQuestions.style.display = "none";
		}
		// Ensure correct show/hide on reload:
		const otherSlider = document.getElementById('wpaiHoursMissedOtherSlider');
		const presenteeismGroup = document.getElementById('wpaiPresenteeismGroup');
		if (otherSlider && presenteeismGroup) {
			if (parseInt(otherSlider.value, 10) === 0) {
				presenteeismGroup.style.display = 'none';
			} else {
				presenteeismGroup.style.display = '';
			}
		}
	});
	</script>

	<script>
	function syncSliderAndNumber(sliderId, numberId, min, max) {
		const slider = document.getElementById(sliderId);
		const number = document.getElementById(numberId);
		if (slider && number) {
			slider.addEventListener('input', () => {
				number.value = slider.value;
			});
			number.addEventListener('input', () => {
				let val = parseInt(number.value, 10);
				if (isNaN(val) || val < min) val = min;
				if (val > max) val = max;
				slider.value = val;
				number.value = val;
			});
		}
	}
	syncSliderAndNumber('satisfactionSlider', 'satisfactionNumber', 0, 10);
	</script>

</body>
</html>
							
